skip_branch_with_pr: true

image: Visual Studio 2017
environment:
  matrix:
    - PYTHON: "C:/Python36-x64"
      TOXENV: "py36"
      PYBIND_PATH: C:/Miniconda36-x64/share/cmake/pybind11
      test: "import sys;print('%x' % sys.maxsize, sys.maxsize > 2**32)"

platform:
    - x64

install:
  - "%PYTHON%/python.exe -m pip install -U pip tox wheel"
  - choco install ninja
  - C:\Miniconda36-x64\Scripts\conda.exe config --set always_yes yes --set changeps1 no
  - C:\Miniconda36-x64\Scripts\conda.exe config --add channels conda-forge
  - C:\Miniconda36-x64\Scripts\conda.exe install pybind11
  - dir "%PYTHON%"
  - "%PYTHON%/python.exe -c \"import sys;print(hex(sys.maxsize), sys.maxsize > 2**32)\""


build: false  # Not a C# project, build stuff at the test step instead.

test_script:
  - "%PYTHON%/Scripts/tox"



